<!DOCTYPE html>
<html>
 <head>
     <title>Starlings</title>
	 <script src="processing-1.4.1.js"></script>
	 <script type="application/processing" data-processing-target="thecanvas">
		var counter = 0;
		var pos_x = 220;
		var pos_y = 180;
		var direction_vertical = "down";
		var direction_horizontal = "right";
		
		//Configurables
		var max_travelling_distance = 25;
		var max_proximity = 3;
		var min_proximity = 13;
		var canvas_size_x = 400;
		var canvas_size_y = 400;
		var ellipse_size = 20;
		
		void setup() {
			size(canvas_size_x, canvas_size_y);
			//background(230, 230, 200);
			background(0, 0, 0);
			stroke(255);
		}
		
		void draw(){
			background(0);
			fill(160);
			noStroke();
			ellipse(pos_x, pos_y, 20, 20);
			text("x: " + pos_x + "  y: " + pos_y, 20,  canvas_size_y - 20);
			//makeVector();
			move();
		}
		
		function makeVector() {
			//make random travelling distance
			var td = Math.floor(Math.random()*max_travelling_distance);
			//make random angle
		}
		
		function move() {
			var next_x;
			var next_y;
			if(direction_vertical == "down" && direction_horizontal == "right"){
				next_x = pos_x + 1;
				next_y = pos_y + 1;
			} else if (direction_vertical == "up" && direction_horizontal == "right"){
				next_x = pos_x + 1;
				next_y = pos_y - 1;
			} else if (direction_vertical == "up" && direction_horizontal == "left"){
				next_x = pos_x - 1;
				next_y = pos_y - 1;
			} else if (direction_vertical == "down" && direction_horizontal == "left"){
				next_x = pos_x - 1;
				next_y = pos_y + 1;
			}
			
			if(next_x >= canvas_size_x){
				direction_horizontal = "left";
				next_x = pos_x;
			} else if (next_x <= 0) {
				direction_horizontal = "right";
				next_x = pos_x;
			}
			
			if(next_y >= canvas_size_y){
				direction_vertical = "up";
				next_y = pos_y;
			} else if (next_y <= 0){
				direction_vertical = "down";
				next_y = pos_y;
			}
			
			pos_x = next_x;
			pos_y = next_y;
		}
		
	 </script>
 </head>
 <body>
   <h3>Starlings</h3>
   <canvas id="thecanvas"> </canvas>
 </body>
</html>